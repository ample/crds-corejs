<header ng-if="!app.state.current.data.hideMenu" class="hidden-print">
  <div class="overlay-container"></div>
  <!-- Brand Bar -->
  <ng-include src="'templates/brand-bar.html'"></ng-include>

  <div id="menu">
    <div class="container">
      <div class="row">
        <!-- TODO refactor this out into it's own directive, that uses the login and registration directives. The new directive should take an argument that is the internal directive (login and/or registration)* -->
        <div class="col-xs-12 menu__container">

          <div class="navbar-header">

            <!--HAMBURGER MENU-->
            <div ng-class="{show: menu.isMobileShowing}">
              <button type="button" class="nav__side--toggle navbar-left hidden-md hidden-lg hidden-xl" ng-click="app.openAside('left', true)">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
            </div>

            <!--LOGO-->
            <a class="navbar-brand logo" ui-sref="home" href="/">
              <img src="//crossroads-media.s3.amazonaws.com/images/logo.svg" alt="crossroads">
            </a>

            <!--PROFILE ICON AND DROPDOWN-->
            <div class="pull-right hidden-xs hidden-sm" dropdown on-toggle="toggled(open)">
              <a href="#" id="user-dropdown" class="mobile-account" ng-show="$root.username != undefined" dropdown-toggle title="{{$root.username}}">
                <svg viewBox="0 0 32 32" class="icon icon-user6 icon-large">
                  <use xlink:href="#user6"></use>
                </svg>
              </a>
              <ul class="dropdown-menu ng-cloak" aria-labelledby="user-dropdown" ng-show="$root.username != undefined" ng-cloak>
                <li>
                  <a ui-sref="profile">{{$root.username}}</a>
                </li>
                <li role="separator" class="divider"></li>
                <li>
                  <a ui-sref="profile">Profile</a>
                </li>
                <li>
                  <a ui-sref="history">Giving History</a>
                </li>
                <li>
                  <a ui-sref="serve-signup">Sign Up to Serve</a>
                </li>
                <li>
                  <a ui-sref="mytrips">My Trips</a>
                </li>
                <li>
                  <a ui-sref="logout" class="ng-cloak">Sign Out</a>
                </li>
              </ul>
            </div>

            <!--LOGIN BUTTON AND DROPDOWN-->
            <ul class="navbar--login list-unstyled hidden-xs hidden-sm">
              <li class="" data-toggle="dropdown" ng-show="$root.username == undefined">
                <button class="btn btn-standard" id="form-toggle" ng-click="toggleDesktopLogin(); passwordPrefix='login-dropdown'">
                  <span>Log In</span>
                </button>
              </li>
              <li>
                <ul class="navbar--login__dropdown list-unstyled col-md-3 soft-top soft-sides" role="menu" aria-labelledby="dropdownMenu1" ng-class="{toggleOpen: loginShow}">
                  <li role="presentation">
                    <div class="navbar--register__container">
                      <div class="dd_menu">
                        <login-form></login-form>
                      </div>
                    </div>
                  </li>
                </ul>
              </li>
            </ul>

          </div><!--navbar-header-->

          <ng-include src="'templates/nav.html'"> </ng-include>

        </div><!--/col-->
      </div><!--/row-->
    </div><!--/container-->
  </div><!--/#menu-->
</header>
