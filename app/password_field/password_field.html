<ng-form name="password_field">
    <!--TODO Once global validation logic method has been created, use that shorter method here-->
    <div class="form-group" ng-class="{'has-error': password_field.password.$error.minlength||
         password_field.password.$error.required && submitted  && password_field.password.$dirty ||
         password_field.password.$error.required && submitted  && !password_field.password.$touched ||
         password_field.password.$error.required && submitted  && password_field.password.$touched ||
         !password_field.password.$error.required && password_field.password.$dirty && !password_field.password.$valid}">
        <div class=" input-group">
          <input type="{{inputType}}" class="form-control" id="{{prefix}}-password" placeholder="Password" ng-minlength="6" autocomplete="off" autocorrect="off" autocapitalize="off" ng-model="passwd" name="password" ng-required="{{required}}" />
          <span class="input-group-btn">
            <a class="btn btn-standard pointer" id="{{prefix}}-show-hide-password" ng-click="pwprocess()"><small class="smaller ng-binding" ng-init="pwprocessing='SHOW'">{{pwprocessing}}</small></a>
          </span>
        </div> <!--input-group-->

        <div ng-if="showMeter">
          <div class="password-strength-meter push-half-top">
            <div class="progress flush-bottom">
              <div class="progress-bar progress-bar-{{passwordStrengthProgressClass}}" role="progressbar" aria-valuenow="{{passwordStrengthProgress}}" aria-valuemin="0" aria-valuemax="100" style="width: {{passwordStrengthProgress}}%">
                <span class="sr-only">{{passwordStrengthProgress}}</span>
              </div>
            </div>
            <div>
                <small class="text-{{passwordStrengthProgressClass}}">{{passwordStrengthProgressLabel}} </small>
                <a ng-click="isCollapsed = !isCollapsed">
                    <svg viewBox="0 0 32 32" class="icon icon-question-circle pointer text-{{passwordStrengthProgressClass}}" ng-if="passwordStrength.feedback.suggestions.length > 0">
                      <use xlink:href="#question-circle"></use>
                    </svg>
                </a>
                <div class="password-suggestions small" collapse="isCollapsed">
                  <p class="flush-bottom">{{passwordStrength.feedback.warning}}</p>
                  <div ng-if="passwordStrength.feedback.suggestions.length > 0" class="push-half-top">
                    <strong>Suggestions</strong>
                    <ul class="list-unstyled flush-bottom">
                      <li ng-repeat="suggestion in passwordStrength.feedback.suggestions">
                        {{suggestion}}
                      </li>
                    </ul>
                    <hr>
                  </div>
                </div>
            </div>
          </div><!--/password-strength-meter-->

          <div>
            <ng-messages for="password_field.password.$error">
              <ng-messages-include src="on-blur-messages"></ng-messages-include>
            </ng-messages>
            <ng-messages for="password_field.password.$error" ng-if="submitted">
              <ng-messages-include src="on-submit-messages"></ng-messages-include>
            </ng-messages>
          </div><!--/push-half-top-->

        </div><!--/ng-if="showMeter"-->
    </div>
</ng-form>
